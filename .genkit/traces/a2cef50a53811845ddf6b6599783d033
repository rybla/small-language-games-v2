{"traceId":"a2cef50a53811845ddf6b6599783d033","spans":{"4fe5363700824c5f":{"spanId":"4fe5363700824c5f","traceId":"a2cef50a53811845ddf6b6599783d033","parentSpanId":"349b979960faa94f","startTime":1754252308099,"endTime":1754252308853.28,"attributes":{"next.span_name":"fetch POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-lite-preview-06-17:generateContent","next.span_type":"AppRender.fetch","http.url":"https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-lite-preview-06-17:generateContent","http.method":"POST","net.peer.name":"generativelanguage.googleapis.com"},"displayName":"fetch POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-lite-preview-06-17:generateContent","links":[],"instrumentationLibrary":{"name":"next.js","version":"0.0.1"},"spanKind":"CLIENT","sameProcessAsParentSpan":{"value":true},"status":{"code":0},"timeEvents":{"timeEvent":[]}},"349b979960faa94f":{"spanId":"349b979960faa94f","traceId":"a2cef50a53811845ddf6b6599783d033","parentSpanId":"0bdd3e83f3faa4df","startTime":1754252308097,"endTime":1754252308865.2737,"attributes":{"genkit:type":"action","genkit:metadata:subtype":"model","genkit:name":"googleai/gemini-2.5-flash-lite-preview-06-17","genkit:path":"/{InterpretNpcStatePredicate,t:flow}/{generate,t:util}/{googleai/gemini-2.5-flash-lite-preview-06-17,t:action,s:model}","genkit:input":"{\"messages\":[{\"role\":\"system\",\"content\":[{\"text\":\"You are playing a role-playing game with the user. Your character is described in the attached Markdown file.\\n\\nYour task as the moment is to decide if the character you are playing as is aware of a particular fact. The user will provide the fact in question, and you should response with `true` if your character knows that fact, or `false` if your character does not know that fact.\"}]},{\"role\":\"user\",\"content\":[{\"media\":{\"url\":\"data:text/markdown;base64,IyBSb2xlLVBsYXlpbmcgR2FtZSBDaGFyYWN0ZXIgSW5mb3JtYXRpb24KCllvdSBhcmUgcm9sZS1wbGF5aW5nIGFzIHRoZSBjaGFyYWN0ZXIgIkJlbm55Ii4KCllvdXIgbW9vZCBpczogbmV1dHJhbC4KCllvdSBrbm93IHRoZSBmb2xsb3dpbmcgZmFjdHM6CiAgLSBJIGtub3cgdGhlIGJlc3QgcmVjaXBlIGZvciBwaXp6YS4=\"}},{\"text\":\"the sky is blue\"}]}],\"config\":{},\"tools\":[],\"output\":{\"constrained\":true,\"contentType\":\"application/json\",\"format\":\"json\",\"schema\":{\"type\":\"object\",\"properties\":{\"knowsFact\":{\"type\":\"boolean\",\"description\":\"Whether or not the character knows the fact\"}},\"required\":[\"knowsFact\"],\"additionalProperties\":true,\"$schema\":\"http://json-schema.org/draft-07/schema#\"}}}","genkit:output":"{\"candidates\":[{\"index\":0,\"message\":{\"role\":\"model\",\"content\":[{\"text\":\"{\\n\\\"knowsFact\\\": true\\n}\"}]},\"finishReason\":\"stop\",\"custom\":{}}],\"custom\":{\"candidates\":[{\"content\":{\"parts\":[{\"text\":\"{\\n\\\"knowsFact\\\": true\\n}\"}],\"role\":\"model\"},\"finishReason\":\"STOP\",\"index\":0}],\"usageMetadata\":{\"promptTokenCount\":133,\"candidatesTokenCount\":10,\"totalTokenCount\":143,\"promptTokensDetails\":[{\"modality\":\"TEXT\",\"tokenCount\":133}]},\"modelVersion\":\"gemini-2.5-flash-lite-preview-06-17\",\"responseId\":\"FcSPaOSLB4Sr1MkPws_hyQw\"},\"usage\":{\"inputCharacters\":398,\"inputImages\":0,\"inputVideos\":0,\"inputAudioFiles\":0,\"outputCharacters\":21,\"outputImages\":0,\"outputVideos\":0,\"outputAudioFiles\":0,\"inputTokens\":133,\"outputTokens\":10,\"totalTokens\":143},\"latencyMs\":767.7400829999988}","genkit:state":"success"},"displayName":"googleai/gemini-2.5-flash-lite-preview-06-17","links":[],"instrumentationLibrary":{"name":"genkit-tracer","version":"v1"},"spanKind":"INTERNAL","sameProcessAsParentSpan":{"value":true},"status":{"code":0},"timeEvents":{"timeEvent":[]}},"0bdd3e83f3faa4df":{"spanId":"0bdd3e83f3faa4df","traceId":"a2cef50a53811845ddf6b6599783d033","parentSpanId":"f4134c99d3ec5d94","startTime":1754252308072,"endTime":1754252308922.8816,"attributes":{"genkit:type":"util","genkit:name":"generate","genkit:path":"/{InterpretNpcStatePredicate,t:flow}/{generate,t:util}","genkit:input":"{\"model\":\"googleai/gemini-2.5-flash-lite-preview-06-17\",\"messages\":[{\"role\":\"system\",\"content\":[{\"text\":\"You are playing a role-playing game with the user. Your character is described in the attached Markdown file.\\n\\nYour task as the moment is to decide if the character you are playing as is aware of a particular fact. The user will provide the fact in question, and you should response with `true` if your character knows that fact, or `false` if your character does not know that fact.\"}]},{\"role\":\"user\",\"content\":[{\"media\":{\"url\":\"data:text/markdown;base64,IyBSb2xlLVBsYXlpbmcgR2FtZSBDaGFyYWN0ZXIgSW5mb3JtYXRpb24KCllvdSBhcmUgcm9sZS1wbGF5aW5nIGFzIHRoZSBjaGFyYWN0ZXIgIkJlbm55Ii4KCllvdXIgbW9vZCBpczogbmV1dHJhbC4KCllvdSBrbm93IHRoZSBmb2xsb3dpbmcgZmFjdHM6CiAgLSBJIGtub3cgdGhlIGJlc3QgcmVjaXBlIGZvciBwaXp6YS4=\"}},{\"text\":\"the sky is blue\"}]}],\"config\":{},\"output\":{\"schema\":{\"_def\":{\"unknownKeys\":\"strip\",\"catchall\":{\"_def\":{\"typeName\":\"ZodNever\"},\"~standard\":{\"version\":1,\"vendor\":\"zod\"}},\"typeName\":\"ZodObject\"},\"~standard\":{\"version\":1,\"vendor\":\"zod\"},\"_cached\":null},\"format\":\"json\",\"jsonSchema\":{\"type\":\"object\",\"properties\":{\"knowsFact\":{\"type\":\"boolean\",\"description\":\"Whether or not the character knows the fact\"}},\"required\":[\"knowsFact\"],\"additionalProperties\":true,\"$schema\":\"http://json-schema.org/draft-07/schema#\"}}}","genkit:output":"{\"message\":{\"role\":\"model\",\"content\":[{\"text\":\"{\\n\\\"knowsFact\\\": true\\n}\"}]},\"finishReason\":\"stop\",\"usage\":{\"inputCharacters\":398,\"inputImages\":0,\"inputVideos\":0,\"inputAudioFiles\":0,\"outputCharacters\":21,\"outputImages\":0,\"outputVideos\":0,\"outputAudioFiles\":0,\"inputTokens\":133,\"outputTokens\":10,\"totalTokens\":143},\"custom\":{\"candidates\":[{\"content\":{\"parts\":[{\"text\":\"{\\n\\\"knowsFact\\\": true\\n}\"}],\"role\":\"model\"},\"finishReason\":\"STOP\",\"index\":0}],\"usageMetadata\":{\"promptTokenCount\":133,\"candidatesTokenCount\":10,\"totalTokenCount\":143,\"promptTokensDetails\":[{\"modality\":\"TEXT\",\"tokenCount\":133}]},\"modelVersion\":\"gemini-2.5-flash-lite-preview-06-17\",\"responseId\":\"FcSPaOSLB4Sr1MkPws_hyQw\"},\"request\":{\"messages\":[{\"role\":\"system\",\"content\":[{\"text\":\"You are playing a role-playing game with the user. Your character is described in the attached Markdown file.\\n\\nYour task as the moment is to decide if the character you are playing as is aware of a particular fact. The user will provide the fact in question, and you should response with `true` if your character knows that fact, or `false` if your character does not know that fact.\"}]},{\"role\":\"user\",\"content\":[{\"media\":{\"url\":\"data:text/markdown;base64,IyBSb2xlLVBsYXlpbmcgR2FtZSBDaGFyYWN0ZXIgSW5mb3JtYXRpb24KCllvdSBhcmUgcm9sZS1wbGF5aW5nIGFzIHRoZSBjaGFyYWN0ZXIgIkJlbm55Ii4KCllvdXIgbW9vZCBpczogbmV1dHJhbC4KCllvdSBrbm93IHRoZSBmb2xsb3dpbmcgZmFjdHM6CiAgLSBJIGtub3cgdGhlIGJlc3QgcmVjaXBlIGZvciBwaXp6YS4=\"}},{\"text\":\"the sky is blue\"}]}],\"config\":{},\"tools\":[],\"output\":{\"constrained\":true,\"contentType\":\"application/json\",\"format\":\"json\",\"schema\":{\"type\":\"object\",\"properties\":{\"knowsFact\":{\"type\":\"boolean\",\"description\":\"Whether or not the character knows the fact\"}},\"required\":[\"knowsFact\"],\"additionalProperties\":true,\"$schema\":\"http://json-schema.org/draft-07/schema#\"}}}}","genkit:state":"success"},"displayName":"generate","links":[],"instrumentationLibrary":{"name":"genkit-tracer","version":"v1"},"spanKind":"INTERNAL","sameProcessAsParentSpan":{"value":true},"status":{"code":0},"timeEvents":{"timeEvent":[]}},"f4134c99d3ec5d94":{"spanId":"f4134c99d3ec5d94","traceId":"a2cef50a53811845ddf6b6599783d033","startTime":1754252308070,"endTime":1754252308923.9116,"attributes":{"genkit:type":"action","genkit:metadata:subtype":"flow","genkit:name":"InterpretNpcStatePredicate","genkit:isRoot":true,"genkit:path":"/{InterpretNpcStatePredicate,t:flow}","genkit:input":"{\"state\":{\"name\":\"Benny\",\"description\":\"Benny is a professional chef with a passion for cooking.\",\"facts\":[\"I know the best recipe for pizza.\"],\"mood\":\"neutral\"},\"preds\":[{\"type\":\"knowsFact\",\"fact\":\"the sky is blue\"}]}","genkit:output":"true","genkit:state":"success"},"displayName":"InterpretNpcStatePredicate","links":[],"instrumentationLibrary":{"name":"genkit-tracer","version":"v1"},"spanKind":"INTERNAL","sameProcessAsParentSpan":{"value":true},"status":{"code":0},"timeEvents":{"timeEvent":[]}}},"displayName":"InterpretNpcStatePredicate","startTime":1754252308070,"endTime":1754252308923.9116}