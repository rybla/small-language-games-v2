{"traceId":"98406feacfe59b72350b1ac5df02b64b","displayName":"GenerateNpcResponse","startTime":1754241693836,"endTime":1754241693836.4531,"spans":{"838e3e2aeed350f6":{"spanId":"838e3e2aeed350f6","traceId":"98406feacfe59b72350b1ac5df02b64b","startTime":1754241693836,"endTime":1754241693836.4531,"attributes":{"genkit:type":"action","genkit:metadata:subtype":"flow","genkit:name":"GenerateNpcResponse","genkit:isRoot":true,"genkit:path":"/{GenerateNpcResponse,t:flow}","genkit:input":"{\"state\":{\"convoTree\":{\"root\":\"node1\",\"nodes\":{\"node1\":{\"id\":\"node1\"},\"node2\":{\"id\":\"node2\"}},\"edges\":{\"edge1\":{\"id\":\"edge1\",\"sourceId\":\"node1\",\"targetId\":\"node2\",\"diff\":{}}}},\"npcState\":{\"name\":\"Benny\",\"knowledge\":[]}}}","genkit:state":"error","genkit:isFailureSource":true},"displayName":"GenerateNpcResponse","links":[],"instrumentationLibrary":{"name":"genkit-tracer","version":"v1"},"spanKind":"INTERNAL","sameProcessAsParentSpan":{"value":true},"status":{"code":2,"message":"e.pred is not a function"},"timeEvents":{"timeEvent":[{"time":1754241693836.4075,"annotation":{"attributes":{"exception.type":"TypeError","exception.message":"e.pred is not a function","exception.stacktrace":"TypeError: e.pred is not a function\n    at /Users/henryblanchette/Documents/small-language-games-v2/.next/server/chunks/ssr/[root-of-the-server]__e440b2d3._.js:693:17\n    at /Users/henryblanchette/Documents/small-language-games-v2/.next/server/chunks/ssr/node_modules_@genkit-ai_core_lib_b4b8dea8._.js:2463:20\n    at AsyncLocalStorage.run (node:internal/async_local_storage/async_hooks:91:14)\n    at /Users/henryblanchette/Documents/small-language-games-v2/.next/server/chunks/ssr/node_modules_@genkit-ai_core_lib_b4b8dea8._.js:2456:40\n    at /Users/henryblanchette/Documents/small-language-games-v2/.next/server/chunks/ssr/node_modules_@genkit-ai_core_lib_b4b8dea8._.js:1825:62\n    at AsyncLocalStorage.run (node:internal/async_local_storage/async_hooks:91:14)\n    at AsyncStore.run (/Users/henryblanchette/Documents/small-language-games-v2/.next/server/chunks/ssr/node_modules_@genkit-ai_core_lib_b4b8dea8._.js:2394:31)\n    at runInActionRuntimeContext (/Users/henryblanchette/Documents/small-language-games-v2/.next/server/chunks/ssr/node_modules_@genkit-ai_core_lib_b4b8dea8._.js:1862:32)\n    at /Users/henryblanchette/Documents/small-language-games-v2/.next/server/chunks/ssr/node_modules_@genkit-ai_core_lib_b4b8dea8._.js:1825:22\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async /Users/henryblanchette/Documents/small-language-games-v2/.next/server/chunks/ssr/node_modules_@genkit-ai_core_lib_b4b8dea8._.js:1745:41\n    at async /Users/henryblanchette/Documents/small-language-games-v2/.next/server/chunks/ssr/node_modules_@genkit-ai_core_lib_b4b8dea8._.js:1040:20\n    at async /Users/henryblanchette/Documents/small-language-games-v2/.next/server/chunks/ssr/node_modules_@genkit-ai_core_lib_b4b8dea8._.js:1057:28\n    at async runInNewSpan (/Users/henryblanchette/Documents/small-language-games-v2/.next/server/chunks/ssr/node_modules_@genkit-ai_core_lib_b4b8dea8._.js:1050:12)\n    at async newTrace (/Users/henryblanchette/Documents/small-language-games-v2/.next/server/chunks/ssr/node_modules_@genkit-ai_core_lib_b4b8dea8._.js:1033:12)\n    at async actionFn.run (/Users/henryblanchette/Documents/small-language-games-v2/.next/server/chunks/ssr/node_modules_@genkit-ai_core_lib_b4b8dea8._.js:1708:30)\n    at async Module.actionFn (/Users/henryblanchette/Documents/small-language-games-v2/.next/server/chunks/ssr/node_modules_@genkit-ai_core_lib_b4b8dea8._.js:1694:25)\n    at async Object.generateActions (/Users/henryblanchette/Documents/small-language-games-v2/.next/server/chunks/ssr/[root-of-the-server]__e440b2d3._.js:748:9)\n    at async Server.actInst (/Users/henryblanchette/Documents/small-language-games-v2/.next/server/chunks/ssr/[root-of-the-server]__e440b2d3._.js:387:25)\n    at async endpoint (/Users/henryblanchette/Documents/small-language-games-v2/.next/server/chunks/ssr/[root-of-the-server]__e440b2d3._.js:763:12)\n    at async executeActionAndPrepareForRender (/Users/henryblanchette/Documents/small-language-games-v2/node_modules/next/dist/compiled/next-server/app-page-turbo.runtime.dev.js:33:4432)\n    at async /Users/henryblanchette/Documents/small-language-games-v2/node_modules/next/dist/compiled/next-server/app-page-turbo.runtime.dev.js:33:2264\n    at async handleAction (/Users/henryblanchette/Documents/small-language-games-v2/node_modules/next/dist/compiled/next-server/app-page-turbo.runtime.dev.js:32:23711)\n    at async renderToHTMLOrFlightImpl (/Users/henryblanchette/Documents/small-language-games-v2/node_modules/next/dist/compiled/next-server/app-page-turbo.runtime.dev.js:38:30115)\n    at async doRender (/Users/henryblanchette/Documents/small-language-games-v2/.next/server/chunks/ssr/node_modules_next_dist_e9e5531b._.js:2423:28)\n    at async AppPageRouteModule.handleResponse (/Users/henryblanchette/Documents/small-language-games-v2/node_modules/next/dist/compiled/next-server/app-page-turbo.runtime.dev.js:40:57928)\n    at async handleResponse (/Users/henryblanchette/Documents/small-language-games-v2/.next/server/chunks/ssr/node_modules_next_dist_e9e5531b._.js:2569:32)\n    at async handler (/Users/henryblanchette/Documents/small-language-games-v2/.next/server/chunks/ssr/node_modules_next_dist_e9e5531b._.js:2944:13)\n    at async doRender (/Users/henryblanchette/Documents/small-language-games-v2/node_modules/next/dist/server/base-server.js:1587:34)\n    at async DevServer.renderToResponseWithComponentsImpl (/Users/henryblanchette/Documents/small-language-games-v2/node_modules/next/dist/server/base-server.js:1929:13)\n    at async DevServer.renderPageComponent (/Users/henryblanchette/Documents/small-language-games-v2/node_modules/next/dist/server/base-server.js:2395:24)\n    at async DevServer.renderToResponseImpl (/Users/henryblanchette/Documents/small-language-games-v2/node_modules/next/dist/server/base-server.js:2435:32)\n    at async DevServer.pipeImpl (/Users/henryblanchette/Documents/small-language-games-v2/node_modules/next/dist/server/base-server.js:1035:25)\n    at async NextNodeServer.handleCatchallRenderRequest (/Users/henryblanchette/Documents/small-language-games-v2/node_modules/next/dist/server/next-server.js:393:17)\n    at async DevServer.handleRequestImpl (/Users/henryblanchette/Documents/small-language-games-v2/node_modules/next/dist/server/base-server.js:925:17)\n    at async /Users/henryblanchette/Documents/small-language-games-v2/node_modules/next/dist/server/dev/next-dev-server.js:398:20\n    at async Span.traceAsyncFn (/Users/henryblanchette/Documents/small-language-games-v2/node_modules/next/dist/trace/trace.js:157:20)\n    at async DevServer.handleRequest (/Users/henryblanchette/Documents/small-language-games-v2/node_modules/next/dist/server/dev/next-dev-server.js:394:24)\n    at async invokeRender (/Users/henryblanchette/Documents/small-language-games-v2/node_modules/next/dist/server/lib/router-server.js:239:21)\n    at async handleRequest (/Users/henryblanchette/Documents/small-language-games-v2/node_modules/next/dist/server/lib/router-server.js:436:24)\n    at async requestHandlerImpl (/Users/henryblanchette/Documents/small-language-games-v2/node_modules/next/dist/server/lib/router-server.js:464:13)\n    at async Server.requestListener (/Users/henryblanchette/Documents/small-language-games-v2/node_modules/next/dist/server/lib/start-server.js:218:13)"},"description":"exception"}}]}}}}